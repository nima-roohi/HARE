VARIABLES [x1,x2,x3]
MODES [ m1,m2 ]
STATESPACE
  m1[[-2,2],[0.01,2],[0,6]]
  m2[[-2,2],[-2,-0.01],[0,6]]
INITIAL
  m1{x1>=0.6/\x1<=0.9/\x2>=0.6/\x2<=0.9/\x3=0}
FLOW
  m1{x1_d=-x2}{x2_d=x1-2*(1-x1^2)*x2}{x3_d=1}
  m2{x1_d=-x2}{x2_d=x1-2*(1-x1^2)*x2}{x3_d=1}
JUMP
  m1->m2{[[x1>=-2/\x1<0/\x2>=0.01/\x2<=0.02]/\[x1'=x1/\x2'>=-0.01/\x2'<=-0.01/\x3'=x3]]}
UNSAFE
  m1{[x1>1/\x1<=2/\x2>=0.01/\x2<=2/\x3>=0/\x3<=6]}
  m2{[x1>=-2/\x1<-1.5/\x2>=-2/\x2<-1.5025/\x3>=0/\x3<0.375]}

